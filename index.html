<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Lyp by noteflakes</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Lyp</h1>
        <p>A package manager for lilypond</p>

        <p class="view"><a href="https://github.com/noteflakes/lyp">View the Project on GitHub <small>noteflakes/lyp</small></a></p>


        <ul>
          <li><a href="https://github.com/noteflakes/lyp/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/noteflakes/lyp/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/noteflakes/lyp">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><a href="https://travis-ci.org/noteflakes/lyp"><img src="https://travis-ci.org/noteflakes/lyp.svg?branch=master" alt="Build Status"></a></p>

<h1>
<a id="lyp---a-package-manager-for-lilypond" class="anchor" href="#lyp---a-package-manager-for-lilypond" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>lyp - a package manager for lilypond</h1>

<p>Use lyp to install and manage packages for lilypond, and install and manage multiple versions of lilypond on your machine.</p>

<p><strong>Code reuse</strong>: lyp lets you install packages that act as lilypond code libraries and can be used to enhance your lilypond files with additional functionality. Packages can depend on other packages. Lyp resolves both direct and transitive package dependencies, and automatically selects the correct version to use for each package.</p>

<p><strong>No hassle Lilypond installation</strong>: With lyp you can also install any version of lilypond on your machine with a single command, without having to visit the lilypond website, clicking a link and then copying files around. In addition, lyp lets you switch between multiple versions of lilypond and always keep your machine up to date with the latest version.</p>

<h2>
<a id="table-of-contents" class="anchor" href="#table-of-contents" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Table of contents</h2>

<ul>
<li>
<a href="#installation">Installation</a>

<ul>
<li><a href="#system-requirements">System requirements</a></li>
<li><a href="#installing-lyp-as-a-ruby-gem">Installing lyp as a Ruby gem</a></li>
<li><a href="#installing-lyp-as-a-standalone-release">Installing lyp as a standalone release</a></li>
<li><a href="manually-installing-releases">Manually installing releases</a></li>
<li><a href="#uninstalling-lyp">Uninstalling lyp</a></li>
</ul>
</li>
<li><a href="#how-lyp-works">How lyp works</a></li>
<li>
<a href="#working-with-packages">Working with packages</a>

<ul>
<li><a href="#what-constitutes-a-package">What constitutes a package?</a></li>
<li><a href="#installing-packages">Installing packages</a></li>
<li><a href="#automatic-package-installation">Automatic package installation</a></li>
<li><a href="#package-references">Package references</a></li>
<li><a href="#version-specifiers">Version specifiers</a></li>
<li><a href="#using-packages">Using packages</a></li>
</ul>
</li>
<li>
<a href="#developing-packages">Developing packages</a>

<ul>
<li><a href="#the-package-interface">The package interface</a></li>
<li><a href="#including-files">Including files</a></li>
<li><a href="#including-fonts">Including fonts</a></li>
<li><a href="#testing-packages">Testing packages</a></li>
<li><a href="#publishing-packages">Publishing packages</a></li>
</ul>
</li>
<li>
<a href="#installing-and-using-lilypond">Installing and Using Lilypond</a>

<ul>
<li><a href="#installing-uninstalling%20a%20version%20of%20lilypond">Installing/uninstalling a version of lilypond</a></li>
<li><a href="#showing-the-list-of-installed-lilypond-versions">Showing the list of installed lilypond versions</a></li>
<li><a href="#Showing-available-lilypond-versions">Showing available lilypond versions</a></li>
<li><a href="#switching-between-lilypond-versions">Switching between lilypond versions</a></li>
<li><a href="#running-lilypond">Running lilypond</a></li>
</ul>
</li>
<li><a href="#contributing">Contributing</a></li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<h3>
<a id="system-requirements" class="anchor" href="#system-requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>System requirements</h3>

<p>Lyp is tested to work on Linux, Mac OS X and Windows 7+.</p>

<h3>
<a id="installing-lyp-as-a-ruby-gem" class="anchor" href="#installing-lyp-as-a-ruby-gem" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing lyp as a Ruby gem</h3>

<p>If you have a recent (&gt;=1.9.3) version of Ruby on your machine, you can install lyp as a gem.</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Linux/Mac OS X:</span>
$ gem install lyp

<span class="pl-c"># Windows:</span>
<span class="pl-k">&gt;</span> gem install lyp-win</pre></div>

<h3>
<a id="installing-lyp-as-a-standalone-release" class="anchor" href="#installing-lyp-as-a-standalone-release" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing lyp as a standalone release</h3>

<p>If you don't have Ruby on your machine you can install lyp as a stand alone package using the install script (<a href="https://git.io/getlyp">view source</a>):</p>

<div class="highlight highlight-source-shell"><pre>$ curl -sSL https://git.io/getlyp <span class="pl-k">|</span> bash</pre></div>

<p>or with Wget:</p>

<div class="highlight highlight-source-shell"><pre>$ wget -qO- https://git.io/getlyp <span class="pl-k">|</span> bash</pre></div>

<p>Windows users can simply download the latest Windows <a href="https://github.com/noteflakes/lyp/releases">release</a>, unzip it and run <code>lyp install self</code>:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-k">&gt;</span> unzip lyp-0.2.3-win32.zip
<span class="pl-k">&gt;</span> lyp-0.2.3-win32/bin/lyp install self</pre></div>

<h3>
<a id="manually-installing-releases" class="anchor" href="#manually-installing-releases" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Manually installing releases</h3>

<p>(This section is for Linux / Mac OS X users.)</p>

<p>If you feel uneasy about piping curl output to bash, you can install lyp yourself by downloading a <a href="https://github.com/noteflakes/lyp/releases">release</a>, untarring it, and running <code>lyp install self</code>:</p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-c1">cd</span> /Downloads
<span class="pl-c"># assuming linux-64 platform</span>
$ tar -xzf lyp-0.2.1-linux-x86_64.tar.gz
$ lyp-0.2.1-linux-x86_64/lyp install self</pre></div>

<p><strong>Note</strong>: using the standalone release of lyp requires having git on your machine.</p>

<h3>
<a id="uninstalling-lyp" class="anchor" href="#uninstalling-lyp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Uninstalling lyp</h3>

<p>In order to remove lyp from your system use the <code>uninstall self</code> command:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp uninstall self</pre></div>

<p>This command will undo the changes made to your shell profile file, and remove any binaries from <code>~/.lyp/bin</code>.</p>

<p>In order to completely remove all files in <code>~/.lyp</code> you can simply delete the directory:</p>

<div class="highlight highlight-source-shell"><pre>$ rm -rf <span class="pl-k">~</span>/.lyp</pre></div>

<h2>
<a id="how-lyp-works" class="anchor" href="#how-lyp-works" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How lyp works</h2>

<p>Lyp sets up a working directory in <code>~/.lyp</code> where it keeps its binaries,  installed packages, and installed versions of lilypond. Lyp provides a wrapper script for lilypond, which does the following:</p>

<ul>
<li>Select the correct version of lilypond to use (see below).</li>
<li>Scan the given lilypond file for any dependencies (specified using <code>\require</code>), and also recursively scan any include files for dependencies</li>
<li>Resolve the dependency tree and calculate the correct versions to use for each required package.</li>
<li>Create a wrapper lilypond file that loads the packages.</li>
<li>Invoke the selected version of lilypond.</li>
</ul>

<p>For more information on running lilypond see the section on <a href="#running-lilypond">Running lilypond</a>.</p>

<h2>
<a id="working-with-packages" class="anchor" href="#working-with-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Working with Packages</h2>

<p>A package is a library of lilypond code, containing one or more lilypond files, that provide commonly-used functionality for users. A package can be a library of scheme code to extend lilypond, as in openlilylib; or a stylesheet which contains music fonts and additional lilypond code to change the look of the music: font, spacing, line widths, sizes, etc.</p>

<p>The difference between merely copying and including a lilypond file in your music, and using a lilypond package is that you can easily share your music file with anyone and let them compile your music without having to download and copy additional code. lyp takes care of installing and resolving any dependencies in your lilypond files, so that you can compile your lilypond files anywhere without schlepping around a bunch of include files. Also, because packages are versioned, repeatable compilation using external code becomes trivial. </p>

<h3>
<a id="what-constitutes-a-package" class="anchor" href="#what-constitutes-a-package" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What constitutes a package?</h3>

<p>In lyp, a package should contain at least a single lilypond file named <code>package.ly</code> in its root directory. A package could contain additional lilypond files referenced in the main package file (using relative includes). A package could also depend on other packages by using the <code>\require</code> command (see below).</p>

<p>Lilypond packages are expected to be published as git repositories. The packages is then versioned using git tags. A package can be referenced either using its git URL, a short name (if it's registered in the <a href="https://github.com/noteflakes/lyp-index">lyp package index</a>), or alternatively as a local path (which is meant for package development more than anything else).</p>

<h3>
<a id="installing-packages" class="anchor" href="#installing-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing packages</h3>

<p>In order to install a package, use the <code>lyp install</code> command:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># install latest version of package dummy</span>
$ lyp install dummy

<span class="pl-c"># install version 0.2.0</span>
$ lyp install github.com/ciconia/mypack@0.2.0

<span class="pl-c"># install version 0.1.0 or higher</span>
$ lyp install <span class="pl-s"><span class="pl-pds">"</span>mypack&gt;=0.1.0<span class="pl-pds">"</span></span>

<span class="pl-c"># install from local path (see section below on developing packages)</span>
$ lyp install mypack@dev:<span class="pl-k">~</span>/repo/mypack</pre></div>

<p>To uninstall the package, use the <code>lyp uninstall</code> command:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># uninstall version 0.1.0</span>
$ lyp uninstall dummy@0.1.0

<span class="pl-c"># uninstall all versions of dummy</span>
$ lyp uninstall -a dummy</pre></div>

<p>To list currently installed packages use <code>lyp list</code> command:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># list all installed packages</span>
$ lyp list

<span class="pl-c"># list all installed packages matching the pattern 'font'</span>
$ lyp list font</pre></div>

<p>To list packages available on the lyp package index use the <code>lyp search</code> command:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># list all packages in index</span>
lyp search

<span class="pl-c"># list available packages matching pattern 'stylesheet'</span>
lyp search stylesheet</pre></div>

<h3>
<a id="automatic-package-installation" class="anchor" href="#automatic-package-installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Automatic package installation</h3>

<p>An easier way to install packages is by using the <code>lyp resolve</code> command, which installs all packages required for a given input file. Suppose a lilypond called <code>test.ly</code> with the following content:</p>

<div class="highlight highlight-source-lilypond"><pre><span class="pl-c1">\version</span> <span class="pl-s"><span class="pl-pds">"</span>2.19.35<span class="pl-pds">"</span></span>
<span class="pl-c1">\require</span> <span class="pl-s"><span class="pl-pds">"</span>assert<span class="pl-pds">"</span></span>

#<span class="pl-s1">(assert-eq? <span class="pl-c1">1</span> <span class="pl-c1">1</span>)</span>
#<span class="pl-s1">(assert:summary)</span></pre></div>

<p>To install the <code>assert</code> package required in the file we run:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp resolve <span class="pl-c1">test</span>.ly
<span class="pl-c">#=&gt;</span>
Cloning https://github.com/noteflakes/lyp-assert.git...

Installed assert@0.2.0</pre></div>

<p>Package dependencies for a given input file can be shown using the <code>lyp deps</code> command:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp deps <span class="pl-c1">test</span>.ly
<span class="pl-c">#=&gt;</span>
  assert =<span class="pl-k">&gt;</span> 0.2.0</pre></div>

<h3>
<a id="package-references" class="anchor" href="#package-references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Package references</h3>

<p>A package is normally referenced by its git URL. Lyp lets you provide either fully- or partially qualified URLs. A package hosted on github can be also referenced by the user/repository pair. The following are all equivalent:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># Fully-qualified URLs</span>
$ lyp install https://github.com/noteflakes/lyp-package-template.git
$ lyp install https://github.com/noteflakes/lyp-package-template

<span class="pl-c"># Partially-qualified URL</span>
$ lyp install github.com/noteflakes/lyp-package-template

<span class="pl-c"># Github repository id</span>
$ lyp install noteflakes/lyp-package-template</pre></div>

<p>In addition, lyp also provides an <a href="https://github.com/noteflakes/lyp-index">index of publically available package</a>, which maps a package name to its URL (see also below). Using the index, packages are referenced by their published name instead of by their git URL:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp install dummy</pre></div>

<p>To get a list of all available packages on the index, use the <code>lyp search</code> command.</p>

<h3>
<a id="version-specifiers" class="anchor" href="#version-specifiers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Version specifiers</h3>

<p>When installing packages defining package dependencies, it is advisable to specify the desired version to use. Using definitive versions lets you ensure that your third-party dependencies do not change unexpectedly and do not break your code.</p>

<p>Versions can either be specified as specific version numbers, as version constraints or as descriptive names.</p>

<p>Versions are specified using the ampersand character:</p>

<pre><code>package@0.1.0
package@stable
</code></pre>

<p>Version constraints specify a range of versions to use. Lyp currently supports two types of constraints:</p>

<ul>
<li>Optimistic constraint: <code>package&gt;=0.1.0</code>, which means any version equal to or higher than 0.1.0.</li>
<li>Pessimistic constraint: <code>package~&gt;0.1.0</code>, which means any version equal or higher than 0.1.0, and lower than 0.2.0. This type of constraint is useful for packages which follow the semantic versioning standard.</li>
</ul>

<p>Version specifiers could be used when installing, listing and requiring packages, and also for specifying versions of lilypond (see below). For example:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp install <span class="pl-s"><span class="pl-pds">"</span>dummy~&gt;0.2.0<span class="pl-pds">"</span></span></pre></div>

<p><strong>Note</strong>: when using version constraints you should put the package specifier in quotes for bash properly parse the command.</p>

<h3>
<a id="requiring-packages" class="anchor" href="#requiring-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requiring packages</h3>

<p>To include a package in your lilypond code, use the <code>\require</code> command:</p>

<div class="highlight highlight-source-lilypond"><pre><span class="pl-c1">\require</span> <span class="pl-s"><span class="pl-pds">"</span>dummy<span class="pl-pds">"</span></span>
<span class="pl-c1">\require</span> <span class="pl-s"><span class="pl-pds">"</span>github.com/lulu/mypack&gt;=0.4.0<span class="pl-pds">"</span></span></pre></div>

<p><strong>Note</strong>: once you use <code>\require</code> in your code, you will have to compile it using the lilypond wrapper provided by lyp. It will not pass compilation using plain lilypond.</p>

<p>Once the package requirements are defined, you can either install packages manually using <a href="#installing-packages"><code>lyp install</code></a>, or automatically using <a href="#automatic-package-installation"><code>lyp resolve</code></a> as described above.</p>

<h2>
<a id="developing-packages" class="anchor" href="#developing-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Developing packages</h2>

<p>To create a lilypond package:</p>

<ul>
<li>Create a git repository.</li>
<li>Add a <code>package.ly</code> file, which is the main entry point for your package.</li>
<li>Optionally add additional lilypond files or package dependencies.</li>
<li>Test &amp; debug your code (see below).</li>
<li>Publish your package (see below).</li>
</ul>

<p>To test your package with an actual input file, you can install it from a local path (for more on testing see <a href="#testing-packages">below</a>). Suppose your package is at ~/repo/mypack:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp install mypack@dev:<span class="pl-k">~</span>/repo/mypack</pre></div>

<p>This will create a <code>mypack@dev</code> package referencing your local files, which you can then reference normally from an input file using the <code>\require</code> command:</p>

<div class="highlight highlight-source-lilypond"><pre><span class="pl-c1">\require</span> <span class="pl-s"><span class="pl-pds">"</span>mypack@dev<span class="pl-pds">"</span></span></pre></div>

<p>If the input file is residing inside your package (for example, <a href="#testing-packages">test files</a>), you can require your package by specifying a relative path. Suppose the input file is at <code>mypack/test/mypack_test.ly</code>:</p>

<div class="highlight highlight-source-lilypond"><pre><span class="pl-c1">\require</span> <span class="pl-s"><span class="pl-pds">"</span>mypack:..<span class="pl-pds">"</span></span></pre></div>

<h3>
<a id="the-package-interface" class="anchor" href="#the-package-interface" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>The package interface</h3>

<p>In order to facilitate writing complex packages, lyp defines a few variables and functions:</p>

<ul>
<li>
<code>lyp:current-package-dir</code> - the absolute directory path for the current package (at the time the package is loaded)</li>
<li>
<code>lyp:input-filename</code> - the absolute path for the user's file being compiled</li>
<li>
<code>lyp:input-dirname</code> - the absolute directory path for the user's file being compiled</li>
</ul>

<h3>
<a id="including-files" class="anchor" href="#including-files" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Including files</h3>

<p>Lyp provides the <code>\pinclude</code> and <code>\pincludeOnce</code> commands for including files residing in the current package using relative paths. The <code>\pincludeOnce</code> commands loads a given file only once:</p>

<div class="highlight highlight-source-lilypond"><pre><span class="pl-c1">\pincludeOnce</span> <span class="pl-s"><span class="pl-pds">"</span>inc/init.ily<span class="pl-pds">"</span></span>
<span class="pl-c1">\pinclude</span> <span class="pl-s"><span class="pl-pds">"</span>inc/template.ily<span class="pl-pds">"</span></span></pre></div>

<p>Lyp also defines a <code>lyp:load</code> scheme function for loading scheme files using relative paths without adding directories to the <code>%load-path</code>:</p>

<div class="highlight highlight-source-lilypond"><pre>#<span class="pl-s1">(<span class="pl-k">if</span> (<span class="pl-c1">not</span> (defined? <span class="pl-c1">'mypack:init</span>))(lyp:load <span class="pl-s"><span class="pl-pds">"</span>scm/init.scm<span class="pl-pds">"</span></span>))</span></pre></div>

<p>Loading scheme files that way is a better technique than adding directorys to <code>%load-path</code>, because this way one avoids possible name clashes, which may lead to unexpected behavior.</p>

<h3>
<a id="including-fonts" class="anchor" href="#including-fonts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Including fonts</h3>

<p>Lyp also supports automatic installation of fonts, based on work by <a href="https://github.com/tisimst">Abraham Leigh</a>. When a package is installed, lyp will copy any font files residing in the <code>fonts</code> directory into the corresponding <code>otf</code> and <code>svg</code> directories of all installed versions of lilypond.</p>

<p><strong>Note</strong>: fonts will be only installed in versions of lilypond starting from than 2.18.2. Lyp automatically patches any version ower than 2.19.12 in order to support custom fonts. </p>

<h3>
<a id="testing-packages" class="anchor" href="#testing-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Testing Packages</h3>

<p>Packages can be tested by using the <code>lyp test</code> command, which will compile any file found inside the package directory ending in <code>_test.ly</code>:</p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-c1">cd</span> mypack
$ lyp <span class="pl-c1">test</span> <span class="pl-c1">.</span></pre></div>

<p>A test file can either be a simple lilypond file which includes the package files and results in a lilypond score, or a lilypond file that performs unit tests on scheme code.</p>

<p>For more information on testing, see the <a href="https://github.com/noteflakes/lyp-assert">lyp-assert</a> package, which is meant to be used for unit testing lilypond code, and serves as an example of how to test a package.</p>

<h3>
<a id="publishing-packages" class="anchor" href="#publishing-packages" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Publishing packages</h3>

<p>In order for your package to be available to all users, you'll need to first push your code to a publically accessible git repository (for example on github). Users will then be able to install your package by using the git URL of the public repository.</p>

<p>You can also add your package to the lyp <a href="https://github.com/noteflakes/lyp-index">public package index</a>, by cloning it, editing <a href="https://github.com/noteflakes/lyp-index/blob/master/index.yaml">index.yaml</a>, and creating a pull request.</p>

<h2>
<a id="installing-and-using-lilypond" class="anchor" href="#installing-and-using-lilypond" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing and Using Lilypond</h2>

<h3>
<a id="installinguninstalling-a-version-of-lilypond" class="anchor" href="#installinguninstalling-a-version-of-lilypond" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installing/uninstalling a version of lilypond</h3>

<p>When installing lilypond, the specific version to download can be specified in different ways:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># latest stable version</span>
$ lyp install lilypond

<span class="pl-c"># latest stable version</span>
$ lyp install lilypond@stable

<span class="pl-c"># latest stable version</span>
$ lyp install lilypond@unstable

<span class="pl-c"># latest version</span>
$ lyp install lilypond@latest

<span class="pl-c"># version 2.18.1</span>
$ lyp install lilypond@2.18.1

<span class="pl-c"># highest version higher than 2.19.27</span>
$ lyp install <span class="pl-s"><span class="pl-pds">"</span>lilypond&gt;=2.19.27<span class="pl-pds">"</span></span>

<span class="pl-c"># highest 2.18 version higher than 2.18.1</span>
$ lyp install <span class="pl-s"><span class="pl-pds">"</span>lilypond~&gt;2.18.1<span class="pl-pds">"</span></span></pre></div>

<p>To uninstall a version lilypond use <code>lyp uninstall</code></p>

<div class="highlight highlight-source-shell"><pre>$ lyp uninstall lilypond@2.18.2</pre></div>

<h3>
<a id="showing-the-list-of-installed-lilypond-versions" class="anchor" href="#showing-the-list-of-installed-lilypond-versions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Showing the list of installed lilypond versions</h3>

<p>To display all installed versions of lilypond, use the <code>list</code> command:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp list lilypond</pre></div>

<p>The output will look as follows:</p>

<pre><code>Lilypond versions:

=&gt; 2.18.2
   2.19.12
 * 2.19.35

# =&gt; - current
# =* - current &amp;&amp; default
#  * - default
</code></pre>

<p>(For current, default settings see below)</p>

<p>This will also list any versions of lilypond found on the user's <code>$PATH</code> outside of the <code>~/.lyp</code> directory (these versions will be marked as 'system' versions).</p>

<h3>
<a id="showing-available-lilypond-versions" class="anchor" href="#showing-available-lilypond-versions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Showing available lilypond versions</h3>

<p>You can also list available versions of lilypond by using the <code>search</code> command:</p>

<div class="highlight highlight-source-shell"><pre><span class="pl-c"># display all available versions of lilypond</span>
$ lyp search lilypond

<span class="pl-c"># display all available versions higher than 2.19</span>
$ lyp search <span class="pl-s"><span class="pl-pds">"</span>lilypond&gt;=2.19<span class="pl-pds">"</span></span>

<span class="pl-c"># display all available stable versions</span>
$ lyp search <span class="pl-s"><span class="pl-pds">"</span>lilypond@stable<span class="pl-pds">"</span></span></pre></div>

<p>The output will look as follows:</p>

<pre><code>Available versions of lilypond@stable:

   2.8.8
   2.10.0
   2.10.33
   2.12.0
   2.12.3
   2.14.0
   2.14.2
   2.16.0
   2.16.1
   2.16.2
   2.18.0
   2.18.1
 * 2.18.2

 * Currently installed
</code></pre>

<h3>
<a id="switching-between-lilypond-versions" class="anchor" href="#switching-between-lilypond-versions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Switching between lilypond versions</h3>

<p>To switch between versions use the <code>lyp use</code>. The same version specifiers could be used as for the <code>lyp install</code> command:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp use lilypond@2.18.2 <span class="pl-c"># the 'lilypond' identifier is optional</span>

<span class="pl-c"># use latest stable/unstable versions</span>
$ lyp use stable
$ lyp use unstable</pre></div>

<p><strong>Note</strong>: The setting of the current lilypond version to use will be maintained for the current shell session.</p>

<p>In order to switch the default version of lilypond to use, add the <code>--default</code> switch:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp use --default 2.19.35</pre></div>

<p>The version used can be further controlled using the <code>--use</code> and <code>--env</code> options passed to <code>lilypond</code> (see below).</p>

<p>As discussed <a href="#showing-the-list-of-installed-lilypond-versions">above</a>, the <code>lyp list lilypond</code> command displays the current and default settings. You can also display the path to the currently selected version by running <code>lyp which lilypond</code>:</p>

<div class="highlight highlight-source-shell"><pre>$ lyp which lilypond
<span class="pl-c">#=&gt; /Users/sharon/.lyp/lilyponds/2.18.2/bin/lilypond</span></pre></div>

<h3>
<a id="running-lilypond" class="anchor" href="#running-lilypond" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Running lilypond</h3>

<p>Once one or more versions of lilypond are installed, the lilypond command may be used normally to compile lilypond files. Lyp adds a few extra options:</p>

<ul>
<li>
<p><code>--use</code>, <code>-u</code> - use a specific version of lilypond:</p>

<div class="highlight highlight-source-shell"><pre>$ lilypond --use=2.19.12 ...

<span class="pl-c"># version constraints can also be used:</span>
$ lilypond --use=<span class="pl-s"><span class="pl-pds">"</span>&gt;=2.19.12<span class="pl-pds">"</span></span> ...
$ lilypond --use=stable ...
$ lilypond --use=latest ...</pre></div>
</li>
<li>
<p><code>--env</code>, <code>-E</code> - use a version set by the <code>$LILYPOND_VERSION</code> environment variable:</p>

<div class="highlight highlight-source-shell"><pre>$ LILYPOND_VERSION=2.18.2 lilypond --env ...</pre></div>
</li>
<li>
<p><code>--install</code>, <code>-n</code> - install the specified version of lilypond if not present. This option works only in conjunction with <code>--env</code> or <code>--use</code>:</p>

<div class="highlight highlight-source-shell"><pre>$ lilypond -u2.19.35 -n ...</pre></div>
</li>
<li>
<p><code>--raw</code>, <code>-r</code> - do not pre-process input file (no scanning for dependencies, no wrapping).</p>

<div class="highlight highlight-source-shell"><pre>$ lilypond --raw ...</pre></div>
</li>
</ul>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contributing</h2>

<p>Lyp is written in Ruby, and its code is <a href="https://github.com/noteflakes/lyp">available on github</a>. To hack on it, simply clone the repository. To run the specs:</p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-c1">cd</span> lyp
$ bundle install <span class="pl-c"># needs to be run only once</span>
$ rspec</pre></div>

<p>Please feel free to submit issues and pull requests.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/noteflakes">noteflakes</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
